---
title: "Figure 4 ex vivo results"
author: "Sara Gosline"
date: "2025-06-02"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Here we are focused on getting the details from a model prediction algorithm - where did it fail, where did it succeed?

## Data and packages

First we get the packages loaded and logged into synapse.
```{r setup, include = FALSE}
knitr::opts_chunk$set(echo  =  TRUE)
library(tidyverse)
library(ggplot2)
source('coderdataResultsFunctions.R')

```


The data has been uploaded by natasha and can be downloaded as follows.

```{r download data}

  cdres <- getModelPerformanceData()

  ecdres <- subset(cdres,trg %in% exvivo)


```

## Figure 4A


```{r}
exres = lapply(metrics,function(x) {
  doFullPlot(x, ecdres,'cellline')
  })

print(exres)
```

Now we can confirm that the datasets follow the same pattern. 

```{r dataset samples}


plot<-calcSourceStatistics('scc',ecdres)


ggsave('exVivoSamplePerformanceCorrelation.pdf',plot, height=12)

```

## Create funtion to dive in



```{r}

```
